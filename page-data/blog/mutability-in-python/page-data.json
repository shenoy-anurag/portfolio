{
    "componentChunkName": "component---src-pages-markdown-remark-frontmatter-slug-js",
    "path": "/blog/mutability-in-python/",
    "result": {"data":{"markdownRemark":{"html":"<p>This is my first post on my site and I plan to cover various topics within Computer Science and on other topics that I'm interested in.</p>\n<h2>Introduction</h2>\n<p>In Python, understanding what mutable and immutable variables are will greatly reduce the chances of accidentally introducing bugs in your code.</p>\n<p>Variables can either be mutable or immutable. Let us explore both types and see the ways in which we might inadvertently introduce bugs.</p>\n<p>Variables are a name we give to values we want to store in memory. This name is used by us, the developers, to keep track of different values and the interpreter keeps track of it's memory location. The value present at that location is the value of the variable.</p>\n<p>Let's see which data types/data structures are mutable or immutable in python.</p>\n<h2>Immutable:</h2>\n<ul>\n<li>Booleans</li>\n<li>Numbers (int, float, decimal etc)</li>\n<li>Strings</li>\n<li>Tuples</li>\n<li>Frozen Sets</li>\n</ul>\n<p>Let's take a look at numbers first:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\nb <span class=\"token operator\">=</span> a\nb <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">10</span> <span class=\"token number\">11</span></code></pre></div>\n<p>In this example, you can see that <code class=\"language-text\">a</code> was assigned the integer <code class=\"language-text\">10</code>, and then <code class=\"language-text\">b</code> was assigned <code class=\"language-text\">a</code>.</p>\n<p>At this point, both a and b reference the same value in memory, but due to the fact that any arithmetic operation on integers returns a value (it essentially assigns the result to a new location in memory), both variables now can have differing values as <code class=\"language-text\">int</code> is a immutable type.</p>\n<p>Although there's no real way of knowing the memory location of a variable in Python, we do have a <code class=\"language-text\">CPython</code> function <code class=\"language-text\">id</code> which returns a unique id which represents that python object.</p>\n<p>You can see that a and b are both referencing the same variable:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\nb <span class=\"token operator\">=</span> a\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">hex</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x7ffa61c1d7c0</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x7ffa61c1d7c0</span>\nb <span class=\"token operator\">=</span> b <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x7ffa61c1d7e0</span></code></pre></div>\n<p>However, once we perform any arithmetic operation, the memory location has changed.</p>\n<p>This is also the case with strings:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">s <span class=\"token operator\">=</span> <span class=\"token string\">\"I love icecream.\"</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> I love icecream<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">hex</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x186844481c0</span>\ns <span class=\"token operator\">=</span> s <span class=\"token operator\">+</span> <span class=\"token string\">\" I also like mangoes.\"</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> I love icecream<span class=\"token punctuation\">.</span> I also like mangoes<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">hex</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x186843f7990</span></code></pre></div>\n<p>Note: <code class=\"language-text\">None</code>, <code class=\"language-text\">True</code> and <code class=\"language-text\">False</code> are different. The python interpreter has only a single memory location for each of these values and thus assigning any variable any of these three values results in the same id everytime.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">hex</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x7ffa58175880</span>\na <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">hex</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x7ffa58169750</span>\na <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">hex</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x7ffa58169770</span>\na <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">hex</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x7ffa58169750</span>\na <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">hex</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x7ffa58175880</span></code></pre></div>\n<h2>Mutable:</h2>\n<ul>\n<li>Lists</li>\n<li>Sets</li>\n<li>Dictionaries</li>\n</ul>\n<p>Mutable values can be changed without the need of assigning the changed value a completely new location in memory.</p>\n<p>Let's take a dictionary as an example:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Raj'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'interests'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'computer science'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'music'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'astronomy'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">hex</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x282f0a8f900</span>\na<span class=\"token punctuation\">[</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">25</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Raj'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'interests'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'computer science'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'music'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'astronomy'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">25</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">hex</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x282f0a8f900</span></code></pre></div>\n<p>We can see that although we modified the dictionary, the memory location of the dictionary has not changed, and thus dictionaries are mutable objects in python.</p>\n<p>Not knowing that <code class=\"language-text\">int</code> variables are immutable or that <code class=\"language-text\">dict</code> variables are, may result in bugs.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">a <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span>\nb <span class=\"token operator\">=</span> a\nb<span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>Remember that any data type or data structure derived from these basic types will also share the same mutability/immutability.</p>\n<p><code class=\"language-text\">datetime</code> objects also are immutable as the functions which you use to modify the datetime object all return values instead of changing them in place. The <code class=\"language-text\">replace</code> function is used in the example.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> datetime\n\nnew_date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">(</span>year<span class=\"token operator\">=</span><span class=\"token number\">2000</span><span class=\"token punctuation\">,</span> month<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> day<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> hour<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> minute<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> second<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> microsecond<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>new_date<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">2000</span><span class=\"token operator\">-</span><span class=\"token number\">01</span><span class=\"token operator\">-</span><span class=\"token number\">01</span> <span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">00</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">hex</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>new_date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x2b38fec6180</span>\nnew_date <span class=\"token operator\">=</span> new_date<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span>year<span class=\"token operator\">=</span><span class=\"token number\">2049</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>new_date<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">2049</span><span class=\"token operator\">-</span><span class=\"token number\">01</span><span class=\"token operator\">-</span><span class=\"token number\">01</span> <span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">00</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">hex</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>new_date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">0x2b38fdb1300</span></code></pre></div>\n<br>\nYou can find the code here:\n<p><a href=\"https://gist.github.com/shenoy-anurag/9054082f4d13d8fc586b0cfdac166631\">https://gist.github.com/shenoy-anurag/9054082f4d13d8fc586b0cfdac166631</a></p>\n<br>\nI hope this was useful. I plan to write more such tutorials in the future. Writing such posts are also a great way for me to learn/re-inforce something I have learnt.\n<h3>References:</h3>\n<ol>\n<li>Python Fundamentals by Ryan Marvin , Mark Ng’ang’a , Amos Omondi. <a href=\"https://www.packtpub.com/product/python-fundamentals/9781789807325\">https://www.packtpub.com/product/python-fundamentals/9781789807325</a></li>\n<li>Mutability <a href=\"https://www.pitt.edu/~naraehan/python3/mutability.html\">https://www.pitt.edu/~naraehan/python3/mutability.html</a></li>\n<li>id() function <a href=\"https://www.w3schools.com/python/ref_func_id.asp\">https://www.w3schools.com/python/ref_func_id.asp</a></li>\n</ol>","frontmatter":{"date":"October 05, 2021","slug":"/blog/mutability-in-python","title":"Mutability in Python"}}},"pageContext":{"id":"6888b00d-ba28-5eff-b249-916fb7604595","frontmatter__slug":"/blog/mutability-in-python","__params":{"frontmatter__slug":"blog"}}},
    "staticQueryHashes": ["63159454"]}